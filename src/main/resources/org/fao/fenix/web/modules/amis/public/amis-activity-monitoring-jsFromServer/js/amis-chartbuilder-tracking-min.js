(function(d){ChartBuilderProcessData=function(a){var c=new Map;console.log("ChartBuilderProcessData START datarows.length "+a.length);for(var b=0;b<a.length;b++){var d=[];d[0]="undefined"==typeof a[b][2]?"0":a[b][2];console.log("ChartBuilderProcessData "+a[b][1]+"|"+a[b][0]+" = "+d);if("undefined"!=typeof c.get(a[b][1])){console.log("get list NOT UNDEFINED "+c.get(a[b][1])+" - "+a[b][0]);var e=c.get(a[b][1]);e.push(d);d=e;console.log("get list AFTER "+a[b][1]+" = "+d)}console.log("END "+a[b][1]+"|"+ a[b][0]+" = "+d);c.put(a[b][1],d)}return c};ChartBuilderProcessTimeSeriesValues=function(a){for(var c=[],b=0;b<a.length;b++)c[b]="undefined"==typeof a[b][1]?"0":a[b][1];return c};ChartBuilderProcessMonthlyTimeSeriesValues=function(a){for(var c=[],b=0;b<a.length;b++)c[b]="undefined"==typeof a[b][2]?"0":a[b][2];return c};ChartBuilderGetTimeseriesChart=function(a,c,b){console.log("ChartBuilderGetTimeseriesChart in the function!!");var f="categories:"+c,e="";console.log("ChartBuilder categories = "+c); for(c=0;c++<a.size;a.next())e+="data[name:"+a.key()+";"+a.value()+"];";console.log("ChartBuilder series = "+e);a="http://fenixapps.fao.org/charts/api?out=html&engine=highcharts&chart=renderto:container;type:line;zoomtype:x&title=text:%20;&subtitle=text:Source AMIS Google Analytics;x:-20&yaxis=min:0;title[text:Total Actions];plotlines[value:0;width:1;color:080000]&legend=lineHeight:3;symbolPadding:3;symbolWidth:10&xaxis="+f+"&series="+e+"&sharable=false&credits=enabled:false";console.log("ChartBuilder url "+ a);d("#analytics-time-chart-top-panel").show();d("#analytics-time-chart").show();d("#analytics-time-chart-title").empty();d("#analytics-time-chart-title").append(b);d("#analytics-time-chart").append('<iframe width="1000px" frameBorder="0" height="400px" id="timechartiframe" />');d("#timechartiframe").attr("src",a)};ChartBuilderGetChart=function(a,c,b){var f="categories:"+c,e="";console.log(c);for(c=0;c++<a.size;a.next())e+="data[name:"+a.key()+";"+a.value()+"];";a="http://fenixapps.fao.org/charts/api?out=html&engine=highcharts&chart=renderto:container;type:column&title=text:%20;&subtitle=text:Source AMIS Google Analytics;x:-20&yaxis=min:0;title[text:Total Actions]&legend=lineHeight:3;symbolPadding:3;symbolWidth:10&plotoptions=column[pointpadding:0.2;borderwidth:0]&xaxis="+ f+"&series="+e+"&sharable=false&credits=enabled:false";console.log("ChartBuilder categories"+f);console.log("ChartBuilder series "+e);d("#analytics-bar-chart-top-panel").show();d("#analytics-bar-chart").show();d("#analytics-bar-chart-title").empty();console.log("ChartBuilderGetChart title = "+b);d("#analytics-bar-chart-title").append(b);d("#analytics-bar-chart").append('<iframe width="600px" frameBorder="0" height="400px" id="barchartiframe" />');d("#barchartiframe").attr("src",a)}})(jQuery);